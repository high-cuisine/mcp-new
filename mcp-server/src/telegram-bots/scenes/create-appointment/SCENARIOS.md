# Сценарии записи на приём

Тексты и флаги заданы в `scenarios.ts`. Итоговая запись всегда собирается в **одну структуру для CRM** (`AppointmentStateData` → `createAppointmentInCrm`).

| № | ID сценария | Название | Строго | Тип приёма (CRM) |
|---|-------------|----------|--------|------------------|
| 1 | `therapy_booking` | Запись на приём (терапия) | — | primary |
| 2 | `who_on_shift` | Кто сегодня на смене | — | — |
| 3 | `move_appointment` | Перенос записи | — | (отдельная сцена move) |
| 4 | `vaccination_price` | Стоимость вакцинации | — | vaccination |
| 5 | `vaccination_booking` | Запись на вакцинацию | — | vaccination |
| 6 | `vaccination_prep_deworming` | Подготовка к вакцинации (глисты) | — | vaccination |
| 7 | `vaccination_restriction` | Ограничение вакцинации | да | primary |
| 8 | `ultrasound_primary` | УЗИ (первичный запрос) | — | ultrasound |
| 9 | `ultrasound_external` | УЗИ по назначению стороннего врача | да | ultrasound |
| 10 | `xray_primary` | Рентген (первичный запрос) | — | xray |
| 11 | `analyses_whose` | Анализы — уточнение назначения | — | analyses |
| 12 | `analyses_our_doctor` | Анализы по назначению нашего врача | — | analyses |
| 13 | `analyses_external` | Анализы по назначению стороннего врача | да | analyses |
| 14 | `postop_first` | Послеоперационный вопрос (первый шаг) | да | — |
| 15 | `postop_our_clinic` | Послеоперационный пациент (операция у нас) | — | — |
| 16 | `postop_external` | Послеоперационный пациент (операция не у нас) | да | primary |
| 17 | `emergency` | Экстренные симптомы | — | — |
| 18 | `pharmacy` | Аптека / наличие препаратов | — | — |
| 19 | `euthanasia` | Эвтаназия | да | — |

- **Строго** — тон «обращаю внимание» / жёсткие условия.
- Там, где указан **тип приёма**, сценарий ведёт к сбору записи в этот тип; остальные — либо инфо, либо передача администратору, либо отдельная сцена (перенос).

Использование в коде: `getScenario(id)`, `getScenarioMessages(id)`.
